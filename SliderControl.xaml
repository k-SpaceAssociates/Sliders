<UserControl x:Class="Sliders.SliderControl"
             x:Name="Root" 
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:Sliders"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             Height="500" Width="800">
    <Grid Background="White">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="95"/>
            <!-- Top canvas (vertical indicator for top slider) -->
            <RowDefinition Height="Auto"/>
            <!-- Top horizontal slider -->
            <RowDefinition Height="Auto"/>
            <!-- Bottom horizontal slider -->
            <RowDefinition Height="*"/>
            <!-- Bottom canvas (vertical indicator for bottom slider) -->
        </Grid.RowDefinitions>
        <DataGrid Grid.Row="0"
          ItemsSource="{Binding RegValRows1}"
          AutoGenerateColumns="False"
          CanUserAddRows="False"
          HeadersVisibility="Column"
          Height="80"
          FontSize="12"
          Margin="5"
          ColumnWidth="40">
            <DataGrid.Columns>
                <DataGridTextColumn Header="0" Binding="{Binding Values[0]}" />
                <DataGridTextColumn Header="1" Binding="{Binding Values[1]}" />
                <DataGridTextColumn Header="2" Binding="{Binding Values[2]}" />
                <DataGridTextColumn Header="3" Binding="{Binding Values[3]}" />
                <DataGridTextColumn Header="4" Binding="{Binding Values[4]}" />
                <DataGridTextColumn Header="5" Binding="{Binding Values[5]}" />
                <DataGridTextColumn Header="6" Binding="{Binding Values[6]}" />
                <DataGridTextColumn Header="7" Binding="{Binding Values[7]}" />
                <DataGridTextColumn Header="8" Binding="{Binding Values[8]}" />
                <DataGridTextColumn Header="9" Binding="{Binding Values[9]}" />
                <DataGridTextColumn Header="10" Binding="{Binding Values[10]}" />
                <DataGridTextColumn Header="11" Binding="{Binding Values[11]}" />
                <DataGridTextColumn Header="12" Binding="{Binding Values[12]}" />
                <DataGridTextColumn Header="13" Binding="{Binding Values[13]}" />
                <DataGridTextColumn Header="14" Binding="{Binding Values[14]}" />
                <DataGridTextColumn Header="15" Binding="{Binding Values[15]}" />
            </DataGrid.Columns>
        </DataGrid>
        <DataGrid Grid.Row="1"
          ItemsSource="{Binding RegValRows2}"
          AutoGenerateColumns="False"
          CanUserAddRows="False"
          HeadersVisibility="Column"
          Height="60"
          FontSize="12"
          Margin="5"
          ColumnWidth="40">
            <DataGrid.Columns>
                <DataGridTextColumn Header="16" Binding="{Binding Values[0]}" />
                <DataGridTextColumn Header="17" Binding="{Binding Values[1]}" />
                <DataGridTextColumn Header="18" Binding="{Binding Values[2]}" />
                <DataGridTextColumn Header="19" Binding="{Binding Values[3]}" />
                <DataGridTextColumn Header="20" Binding="{Binding Values[4]}" />
                <DataGridTextColumn Header="21" Binding="{Binding Values[5]}" />
                <DataGridTextColumn Header="22" Binding="{Binding Values[6]}" />
                <DataGridTextColumn Header="23" Binding="{Binding Values[7]}" />
                <DataGridTextColumn Header="24" Binding="{Binding Values[8]}" />
                <DataGridTextColumn Header="25" Binding="{Binding Values[9]}" />
                <DataGridTextColumn Header="26" Binding="{Binding Values[10]}" />
                <DataGridTextColumn Header="27" Binding="{Binding Values[11]}" />
                <DataGridTextColumn Header="28" Binding="{Binding Values[12]}" />
                <DataGridTextColumn Header="29" Binding="{Binding Values[13]}" />
                <DataGridTextColumn Header="30" Binding="{Binding Values[14]}" />
                <DataGridTextColumn Header="31" Binding="{Binding Values[15]}" />
            </DataGrid.Columns>
        </DataGrid>
        <!-- Top Canvas: Vertical Slider 1 -->
        <Canvas Grid.Row="2" Background="Transparent" Height="100">
            <Line X1="0" X2="800" Stroke="Gray" StrokeThickness="20"
          Canvas.Top="{Binding VerticalSliderMidpointTop}" />
            <Slider Orientation="Vertical"
            Minimum="{Binding VerticalSliderMinimum}"
            Maximum="{Binding VerticalSliderMaximum}"
            IsDirectionReversed="True"
            Height="80"
            Width="40"
            Canvas.Top="{Binding VerticalSliderTop1, Mode=TwoWay}"
            Canvas.Left="{Binding VerticalSliderLeft1, Mode=TwoWay}"
            Foreground="Blue">
                <Slider.Template>
                <ControlTemplate TargetType="Slider">
                    <Grid>
                        <Track x:Name="PART_Track"
                           IsDirectionReversed="True"
                           Orientation="Vertical"
                           Minimum="{Binding Minimum, RelativeSource={RelativeSource TemplatedParent}}"
                           Maximum="{Binding Maximum, RelativeSource={RelativeSource TemplatedParent}}"
                           Value="{Binding Value, RelativeSource={RelativeSource TemplatedParent}}"
                        >
                            <Track.Thumb>
                                <Thumb Width="40" Height="40">
                                    <Thumb.Template>
                                        <ControlTemplate TargetType="Thumb">
                                            <Image Source="Images/Nidec.png"
                                               Stretch="Uniform"
                                               RenderTransformOrigin="0.5,0.5">
                                                    <Image.RenderTransform>
                                                        <RotateTransform Angle="180"/>
                                                    </Image.RenderTransform>
                                            </Image>
                                            </ControlTemplate>
                                    </Thumb.Template>
                                </Thumb>
                            </Track.Thumb>
                        </Track>
                    </Grid>
                </ControlTemplate>
                </Slider.Template>
            </Slider>
            <TextBlock Text="{Binding VerticalStageValue1}" 
               FontSize="14" 
               Foreground="Blue"
               Canvas.Left="{Binding VerticalSliderLeft1}" 
               Canvas.Top="{Binding VerticalSliderTop1}" />
        </Canvas>

        <!-- Top Horizontal Slider -->
        <Slider Grid.Row="3"
        Minimum="{Binding SliderMinimum}"
        Maximum="{Binding SliderMaximum}"
        Value="{Binding DataContext.SliderValue, ElementName=Root, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, PresentationTraceSources.TraceLevel=High}"
        Height="0"
        Margin="20,10"
        Foreground="Blue"/>
        <StackPanel VerticalAlignment="Top" HorizontalAlignment="Left" Margin="10">
            <TextBlock 
    Text="{Binding DataContext.SliderValue, ElementName=Root, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, PresentationTraceSources.TraceLevel=High}"
          Foreground="Green" FontSize="16" HorizontalAlignment="Right" Margin="0,32,40,0"/> 

            <TextBlock Text="{Binding SliderMinimum}" Foreground="Blue" FontSize="16"/>
        </StackPanel>

        <TextBlock Text="{Binding DataContext.SliderValue, ElementName=Root, Mode=TwoWay}" 
          Foreground="Green" FontSize="16" HorizontalAlignment="Right" Margin="0,32,40,0"/>

        <!-- Bottom Horizontal Slider -->
        <Slider Grid.Row="4"
        Minimum="{Binding SliderMinimum}"
        Maximum="{Binding SliderMaximum}"
        Value="{Binding FollowerSliderValue, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
        Height="0"
        Margin="20,10"
        Foreground="Green"/>

        <!-- Bottom Canvas: Vertical Slider 2 -->
        <Canvas Grid.Row="5" Background="Transparent" Height="100">
            <Line X1="0" X2="800" Stroke="Gray" StrokeThickness="20"
          Canvas.Top="{Binding VerticalSliderMidpointTop}" />
            <Slider Orientation="Vertical"
            Minimum="{Binding VerticalSliderMinimum}"
            Maximum="{Binding VerticalSliderMaximum}"
            Height="80"
            Width="40"
            Canvas.Top="{Binding VerticalSliderTop2, Mode=TwoWay}"
            Canvas.Left="{Binding VerticalSliderLeft2, Mode=TwoWay}"
            Foreground="Green">
                <Slider.Template>
                    <ControlTemplate TargetType="Slider">
                        <Grid>
                            <Track x:Name="PART_Track"
                           IsDirectionReversed="True"
                           Orientation="Vertical"
                           Minimum="{TemplateBinding Minimum}"
                           Maximum="{TemplateBinding Maximum}"
                           Value="{TemplateBinding Value}">
                                <Track.Thumb>
                                    <Thumb Width="40" Height="40">
                                        <Thumb.Template>
                                            <ControlTemplate TargetType="Thumb">
                                                <Image Source="Images/Nidec.png"
                                               Stretch="Uniform"
                                               RenderTransformOrigin="0.5,0.5"/>
                                            </ControlTemplate>
                                        </Thumb.Template>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Slider.Template>
            </Slider>
            <TextBlock Text="{Binding VerticalStageValue2}" 
               FontSize="14" 
               Foreground="Green"
               Canvas.Left="{Binding VerticalSliderLeft2}" 
               Canvas.Top="{Binding VerticalSliderTop2}" />
        </Canvas>

    </Grid>
</UserControl>